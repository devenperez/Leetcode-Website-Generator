import git
import os
import time
import shutil
import sys
from problem import Problem

# Recursive delete folder
def rmdirAll(path):
    for file in os.listdir(path):
        fullpath = os.path.join(path, file)
        if os.path.isdir(fullpath):
            rmdirAll(fullpath)
        else:
            os.chmod(fullpath, 0o777)
            os.remove(fullpath)
    os.rmdir(path)

# Retrives website embed
def get_embed_from_url(url):
    target = url.replace("/", "%2F")
    return f"<script src=\"https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2Fdevenperez%2Fleetcode%2Fblob%2Fmain%2F{target}&style=github&showBorder=on&showLineNumbers=on\"></script>"

### Start ###
args = [arg for arg in sys.argv[1:] if not arg.startswith("-")]
filesToIgnore = [".git", "README.md"]
problems = []
easyProblemsSolved = 0
mediumProblemsSolved = 0
hardProblemsSolved = 0

if len(args) > 0 and (args[0] == "false" or args[0] == "False"):
    # If not recloning, check if it exists
    if not os.path.exists("leetcode"):
        print("An error has occured: \"leetcode\" folder does not exist")
        quit()
else:
    # Deletes existing leetcode folder
    if os.path.exists("leetcode"):
        print("Deleting current leetcode folder")
        rmdirAll("leetcode")

    # Clone repo from github
    print("Cloning new leetcode folder from github")
    git.Repo.clone_from('https://github.com/devenperez/leetcode', "leetcode")

print("Starting gathering info from repo")
numFolders = len(os.listdir("leetcode"))
counter = 0
# Gather all necessary info from repo
for problemFolder in os.listdir("leetcode"):
    counter += 1
    if problemFolder in filesToIgnore: continue #Ignores non-problem folders

    print(f"({counter}/{numFolders}) Gathering info for {problemFolder}")
    # Retrieve problem info
    folderSplit = problemFolder.split("-")
    prob = Problem(folderSplit.pop(0), " ".join(folderSplit).title())

    
    # Gather info from folder
    pfPath = os.path.join("leetcode", problemFolder)
    for file in os.listdir(pfPath):
        if file == "NOTES.md":
            pass
        elif file.startswith("STATS"):
            stats = open(os.path.join(pfPath, file), "r")
            wordBreaks = stats.read().split(" ")
            stats.close()
            prob.time = float(wordBreaks[1])
            prob.timePercentile = float(wordBreaks[3][1:-3])
            prob.memory = float(wordBreaks[5])
            prob.memoryPercentile = float(wordBreaks[7][1:-2])
        elif file == "README.md":
            readme = open(os.path.join(pfPath, file), "r")
            prob.difficulty = readme.read().split("h3")[1][1:-2]
            easyProblemsSolved += 1 if prob.difficulty == "Easy" else 0
            mediumProblemsSolved += 1 if prob.difficulty == "Medium" else 0
            hardProblemsSolved += 1 if prob.difficulty == "Hard" else 0
            readme.close()
        else:
            codeFolder = problemFolder + "/" + file
            prob.embedLink = get_embed_from_url(codeFolder)
            prob.language = file.split(".")[-1]
    
    problems.append(prob)
print("Finished gathering info from repo")

print("Creating CSV file")
# Export all info to .csv file
if os.path.exists("problems_solved.csv"):
    os.remove("problems_solved.csv")

csv = open("problems_solved.csv", "x")
for problem in problems:
    csv.write(problem.toCSV())
    csv.write("\n")
csv.close()
print("Finished CSV file")

## Build html page
# Untouched portions
topTemplate = "<!DOCTYPE html>\n<html style=\"font-size: 16px;\">\n\t<head>\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t\t<meta charset=\"utf-8\">\n\t\t<meta name=\"keywords\" content=\"\">\n\t\t<meta name=\"description\" content=\"\">\n\t\t<meta name=\"robots\" content=\"noindex\">\n\t\t<title>leetcode</title>\n\t\t<link rel=\"stylesheet\" href=\"nicepage.css\" media=\"screen\">\n<link rel=\"stylesheet\" href=\"leetcode.css\" media=\"screen\">\n\t\t<script class=\"u-script\" type=\"text/javascript\" src=\"jquery.js\" defer=\"\"></script>\n\t\t<script class=\"u-script\" type=\"text/javascript\" src=\"nicepage.js\" defer=\"\"></script>\n\t\t<meta name=\"generator\" content=\"Nicepage 4.12.17, nicepage.com\">\n\t\t<link id=\"u-theme-google-font\" rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i\">\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t<script type=\"application/ld+json\">{\n\t\t\"@context\": \"http://schema.org\",\n\t\t\"@type\": \"Organization\",\n\t\t\"name\": \"Main Website\",\n\t\t\"logo\": \"images/dp_logo_inv.png\",\n\t\t\"sameAs\": [\n\t\t\t\t\"https://www.linkedin.com/in/deven-perez-2042a517b/\",\n\t\t\t\t\"https://github.com/devenperez\",\n\t\t\t\t\"https://instagram.com/devenperez\",\n\t\t\t\t\"https://twitter.com/devenperez_\"\n\t\t]\n}</script>\n\t\t<meta name=\"theme-color\" content=\"#478ac9\">\n\t\t<meta name=\"twitter:site\" content=\"@\">\n\t\t<meta name=\"twitter:card\" content=\"summary_large_image\">\n\t\t<meta name=\"twitter:title\" content=\"leetcode\">\n\t\t<meta name=\"twitter:description\" content=\"Main Website\">\n\t\t<meta property=\"og:title\" content=\"leetcode\">\n\t\t<meta property=\"og:description\" content=\"\">\n\t\t<meta property=\"og:type\" content=\"website\">\n\t</head>\n\t<body class=\"u-body u-xl-mode\"><header class=\"u-clearfix u-gradient u-header u-sticky u-valign-bottom-xs u-header\" id=\"sec-2be2\"><div class=\"u-clearfix u-sheet u-sheet-1\">\n\t\t\t\t<a href=\"index.html\" data-page-id=\"189325579\" class=\"u-image u-logo u-image-1\" data-image-width=\"1095\" data-image-height=\"1095\" title=\"Home\">\n\t\t\t\t\t<img src=\"images/dp_logo_inv.png\" class=\"u-logo-image u-logo-image-1\">\n\t\t\t\t</a>\n\t\t\t\t<nav class=\"u-menu u-menu-dropdown u-offcanvas u-menu-1\">\n\t\t\t\t\t<div class=\"menu-collapse\" style=\"font-size: 1rem; letter-spacing: 0px;\">\n\t\t\t\t\t\t<a class=\"u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base\" href=\"#\">\n\t\t\t\t\t\t\t<svg class=\"u-svg-link\" viewBox=\"0 0 24 24\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#menu-hamburger\"></use></svg>\n\t\t\t\t\t\t\t<svg class=\"u-svg-content\" version=\"1.1\" id=\"menu-hamburger\" viewBox=\"0 0 16 16\" x=\"0px\" y=\"0px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\"><g><rect y=\"1\" width=\"16\" height=\"2\"></rect><rect y=\"7\" width=\"16\" height=\"2\"></rect><rect y=\"13\" width=\"16\" height=\"2\"></rect>\n</g></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"u-custom-menu u-nav-container\">\n\t\t\t\t\t\t<ul class=\"u-nav u-unstyled u-nav-1\"><li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link u-text-active-white u-text-body-alt-color u-text-hover-custom-color-3\" href=\"index.html\" style=\"padding: 10px 20px;\">Home</a>\n</li><li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link u-text-active-white u-text-body-alt-color u-text-hover-custom-color-3\" href=\"about-me.html\" style=\"padding: 10px 20px;\">About Me</a>\n</li></ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"u-custom-menu u-nav-container-collapse\">\n\t\t\t\t\t\t<div class=\"u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav\">\n\t\t\t\t\t\t\t<div class=\"u-inner-container-layout u-sidenav-overflow\">\n\t\t\t\t\t\t\t\t<div class=\"u-menu-close\"></div>\n\t\t\t\t\t\t\t\t<ul class=\"u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2\"><li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"index.html\">Home</a>\n</li><li class=\"u-nav-item\"><a class=\"u-button-style u-nav-link\" href=\"about-me.html\">About Me</a>\n</li></ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"u-black u-menu-overlay u-opacity u-opacity-70\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t\t<div class=\"u-bottom-left-radius-20 u-bottom-right-radius-20 u-container-style u-expanded-width-xs u-group u-palette-2-base u-shape-round u-group-1\">\n\t\t\t\t\t<div class=\"u-container-layout u-container-layout-1\">\n\t\t\t\t\t\t<p class=\"u-align-center u-text u-text-1\">Welcome! This website is a work-in-progress. More to come!</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div></header>\n\t\t<section class=\"u-clearfix u-grey-75 u-section-1\" id=\"sec-e98b\">\n\t\t\t<div class=\"u-clearfix u-sheet u-sheet-1\">\n\t\t\t\t<div class=\"u-align-center u-container-style u-group u-group-1\">\n\t\t\t\t\t<div class=\"u-container-layout u-container-layout-1\">\n\t\t\t\t\t\t<img class=\"u-image u-image-default u-preserve-proportions u-image-1\" src=\"images/LeetCode_logo_rvs.png\" alt=\"\" data-image-width=\"512\" data-image-height=\"512\">\n\t\t\t\t\t\t<h2 class=\"u-text u-text-1\">Leetcode Problems</h2>\n\t\t\t\t\t\t<p class=\"u-text u-text-2\">Leetcode is a website that provides many programming questions to help with computational problem solving, which can help bolster one's ability in the workplace.<br>These are just some of my solutions to several problems\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"u-align-center u-clearfix u-custom-color-1 u-section-2\" id=\"sec-56d6\">\n\t\t\t<div class=\"u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1\">\n\t\t\t\t<div class=\"u-expanded-width u-list u-list-1\">\n\t\t\t\t\t<div class=\"u-repeater u-repeater-1\">\n\t\t\t\t\t\t<div class=\"u-align-center u-container-style u-list-item u-repeater-item\">\n"
counterTemplate = f"\t\t\t\t\t\t\t<div class=\"u-container-layout u-similar-container u-container-layout-1\">\n\t\t\t\t\t\t\t\t<h1 class=\"u-text u-title u-text-1\" data-animation-name=\"counter\" data-animation-event=\"scroll\" data-animation-duration=\"3000\">{easyProblemsSolved}</h1>\n\t\t\t\t\t\t\t\t<p class=\"u-text u-text-2\">Completed <span style=\"font-weight: 700;\">easy&nbsp;</span>problems\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"u-align-center u-container-style u-list-item u-repeater-item\">\n\t\t\t\t\t\t\t<div class=\"u-container-layout u-similar-container u-container-layout-2\">\n\t\t\t\t\t\t\t\t<h1 class=\"u-text u-title u-text-3\" data-animation-name=\"counter\" data-animation-event=\"scroll\" data-animation-duration=\"3000\">{mediumProblemsSolved}</h1>\n\t\t\t\t\t\t\t\t<p class=\"u-text u-text-4\">Completed <span style=\"font-weight: 700;\">medium </span>problems\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"u-align-center u-container-style u-list-item u-repeater-item\">\n\t\t\t\t\t\t\t<div class=\"u-container-layout u-similar-container u-container-layout-3\">\n\t\t\t\t\t\t\t\t<h1 class=\"u-text u-title u-text-5\" data-animation-name=\"counter\" data-animation-event=\"scroll\" data-animation-duration=\"3000\">{hardProblemsSolved}</h1>\n\t\t\t\t\t\t\t\t<p class=\"u-text u-text-6\">Completed <span style=\"font-weight: 700;\">hard </span>problems\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n"
bottomTemplate = "\t\t<footer class=\"u-clearfix u-footer u-grey-80\" id=\"sec-b60d\"><div class=\"u-clearfix u-sheet u-sheet-1\">\n\t\t\t\t<div class=\"u-clearfix u-expanded-width u-gutter-30 u-layout-wrap u-layout-wrap-1\">\n\t\t\t\t\t<div class=\"u-gutter-0 u-layout\">\n\t\t\t\t\t\t<div class=\"u-layout-row\">\n\t\t\t\t\t\t\t<div class=\"u-align-center-sm u-align-center-xs u-align-left-md u-align-left-xl u-container-style u-layout-cell u-left-cell u-size-20 u-size-20-md u-layout-cell-1\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-valign-middle u-container-layout-1\"><!--position-->\n\t\t\t\t\t\t\t\t\t<div data-position=\"\" class=\"u-position u-position-1\"><!--block-->\n\t\t\t\t\t\t\t\t\t\t<div class=\"u-block\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"u-block-container u-clearfix\"><!--block_header-->\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 class=\"u-block-header u-text\"><!--block_header_content-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><!--/block_header_content-->\n\t\t\t\t\t\t\t\t\t\t\t\t</h5><!--/block_header--><!--block_content-->\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"u-block-content u-text\"><!--block_content_content--><!--/block_content_content--></div><!--/block_content-->\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div><!--/block-->\n\t\t\t\t\t\t\t\t\t</div><!--/position-->\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-align-center-sm u-align-right-md u-container-style u-layout-cell u-size-20 u-size-20-md u-layout-cell-2\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-valign-middle u-container-layout-2\">\n\t\t\t\t\t\t\t\t\t<a href=\"index.html\" data-page-id=\"189325579\" class=\"u-image u-logo u-image-1\" data-image-width=\"1095\" data-image-height=\"1095\" title=\"index\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"images/dp_logo_inv.png\" class=\"u-logo-image u-logo-image-1\">\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-align-center-sm u-align-center-xs u-align-left-md u-align-right-lg u-align-right-xl u-container-style u-layout-cell u-right-cell u-size-20 u-size-20-md u-layout-cell-3\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-valign-middle u-container-layout-3\">\n\t\t\t\t\t\t\t\t\t<div class=\"u-social-icons u-spacing-10 u-social-icons-1\">\n\t\t\t\t\t\t\t\t\t\t<a class=\"u-social-url\" title=\"linkedin\" target=\"_blank\" href=\"https://www.linkedin.com/in/deven-perez-2042a517b/\"><span class=\"u-icon u-social-icon u-social-linkedin u-icon-1\"><svg class=\"u-svg-link\" preserveAspectRatio=\"xMidYMin slice\" viewBox=\"0 0 112 112\" style=\"\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-fc8e\"></use></svg><svg class=\"u-svg-content\" viewBox=\"0 0 112 112\" x=\"0\" y=\"0\" id=\"svg-fc8e\"><circle fill=\"currentColor\" cx=\"56.1\" cy=\"56.1\" r=\"55\"></circle><path fill=\"#FFFFFF\" d=\"M41.3,83.7H27.9V43.4h13.4V83.7z M34.6,37.9L34.6,37.9c-4.6,0-7.5-3.1-7.5-7c0-4,3-7,7.6-7s7.4,3,7.5,7\n\t\t\t\t\t\tC42.2,34.8,39.2,37.9,34.6,37.9z M89.6,83.7H76.2V62.2c0-5.4-1.9-9.1-6.8-9.1c-3.7,0-5.9,2.5-6.9,4.9c-0.4,0.9-0.4,2.1-0.4,3.3v22.5\n\t\t\t\t\t\tH48.7c0,0,0.2-36.5,0-40.3h13.4v5.7c1.8-2.7,5-6.7,12.1-6.7c8.8,0,15.4,5.8,15.4,18.1V83.7z\"></path></svg></span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<a class=\"u-social-url\" target=\"_blank\" data-type=\"Github\" title=\"Github\" href=\"https://github.com/devenperez\"><span class=\"u-icon u-social-github u-social-icon u-icon-2\"><svg class=\"u-svg-link\" preserveAspectRatio=\"xMidYMin slice\" viewBox=\"0 0 112 112\" style=\"\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-7d5f\"></use></svg><svg class=\"u-svg-content\" viewBox=\"0 0 112 112\" x=\"0\" y=\"0\" id=\"svg-7d5f\"><circle fill=\"currentColor\" cx=\"56.1\" cy=\"56.1\" r=\"55\"></circle><path fill=\"#FFFFFF\" d=\"M88,51.3c0-5.5-1.9-10.2-5.3-13.7c0.6-1.3,2.3-6.5-0.5-13.5c0,0-4.2-1.4-14,5.3c-4.1-1.1-8.4-1.7-12.7-1.8\n\tc-4.3,0-8.7,0.6-12.7,1.8c-9.7-6.6-14-5.3-14-5.3c-2.8,7-1,12.2-0.5,13.5C25,41.2,23,45.7,23,51.3c0,19.6,11.9,23.9,23.3,25.2\n\tc-1.5,1.3-2.8,3.5-3.2,6.8c-3,1.3-10.2,3.6-14.9-4.3c0,0-2.7-4.9-7.8-5.3c0,0-5-0.1-0.4,3.1c0,0,3.3,1.6,5.6,7.5c0,0,3,9.1,17.2,6\n\tc0,4.3,0.1,8.3,0.1,9.5h25.2c0-1.7,0.1-7.2,0.1-14c0-4.7-1.7-7.9-3.4-9.4C76,75.2,88,70.9,88,51.3z\"></path></svg></span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<a class=\"u-social-url\" title=\"instagram\" target=\"_blank\" href=\"https://instagram.com/devenperez\"><span class=\"u-icon u-social-icon u-social-instagram u-icon-3\"><svg class=\"u-svg-link\" preserveAspectRatio=\"xMidYMin slice\" viewBox=\"0 0 112 112\" style=\"\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-37ca\"></use></svg><svg class=\"u-svg-content\" viewBox=\"0 0 112 112\" x=\"0\" y=\"0\" id=\"svg-37ca\"><circle fill=\"currentColor\" cx=\"56.1\" cy=\"56.1\" r=\"55\"></circle><path fill=\"#FFFFFF\" d=\"M55.9,38.2c-9.9,0-17.9,8-17.9,17.9C38,66,46,74,55.9,74c9.9,0,17.9-8,17.9-17.9C73.8,46.2,65.8,38.2,55.9,38.2\n\t\t\t\t\t\tz M55.9,66.4c-5.7,0-10.3-4.6-10.3-10.3c-0.1-5.7,4.6-10.3,10.3-10.3c5.7,0,10.3,4.6,10.3,10.3C66.2,61.8,61.6,66.4,55.9,66.4z\"></path><path fill=\"#FFFFFF\" d=\"M74.3,33.5c-2.3,0-4.2,1.9-4.2,4.2s1.9,4.2,4.2,4.2s4.2-1.9,4.2-4.2S76.6,33.5,74.3,33.5z\"></path><path fill=\"#FFFFFF\" d=\"M73.1,21.3H38.6c-9.7,0-17.5,7.9-17.5,17.5v34.5c0,9.7,7.9,17.6,17.5,17.6h34.5c9.7,0,17.5-7.9,17.5-17.5V38.8\n\t\t\t\t\t\tC90.6,29.1,82.7,21.3,73.1,21.3z M83,73.3c0,5.5-4.5,9.9-9.9,9.9H38.6c-5.5,0-9.9-4.5-9.9-9.9V38.8c0-5.5,4.5-9.9,9.9-9.9h34.5\n\t\t\t\t\t\tc5.5,0,9.9,4.5,9.9,9.9V73.3z\"></path></svg></span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<a class=\"u-social-url\" title=\"twitter\" target=\"_blank\" href=\"https://twitter.com/devenperez_\"><span class=\"u-icon u-social-icon u-social-twitter u-icon-4\"><svg class=\"u-svg-link\" preserveAspectRatio=\"xMidYMin slice\" viewBox=\"0 0 112 112\" style=\"\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-c0f8\"></use></svg><svg class=\"u-svg-content\" viewBox=\"0 0 112 112\" x=\"0\" y=\"0\" id=\"svg-c0f8\"><circle fill=\"currentColor\" class=\"st0\" cx=\"56.1\" cy=\"56.1\" r=\"55\"></circle><path fill=\"#FFFFFF\" d=\"M83.8,47.3c0,0.6,0,1.2,0,1.7c0,17.7-13.5,38.2-38.2,38.2C38,87.2,31,85,25,81.2c1,0.1,2.1,0.2,3.2,0.2\n\t\t\t\t\t\tc6.3,0,12.1-2.1,16.7-5.7c-5.9-0.1-10.8-4-12.5-9.3c0.8,0.2,1.7,0.2,2.5,0.2c1.2,0,2.4-0.2,3.5-0.5c-6.1-1.2-10.8-6.7-10.8-13.1\n\t\t\t\t\t\tc0-0.1,0-0.1,0-0.2c1.8,1,3.9,1.6,6.1,1.7c-3.6-2.4-6-6.5-6-11.2c0-2.5,0.7-4.8,1.8-6.7c6.6,8.1,16.5,13.5,27.6,14\n\t\t\t\t\t\tc-0.2-1-0.3-2-0.3-3.1c0-7.4,6-13.4,13.4-13.4c3.9,0,7.3,1.6,9.8,4.2c3.1-0.6,5.9-1.7,8.5-3.3c-1,3.1-3.1,5.8-5.9,7.4\n\t\t\t\t\t\tc2.7-0.3,5.3-1,7.7-2.1C88.7,43,86.4,45.4,83.8,47.3z\"></path></svg></span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div></footer>\n\t\t<section class=\"u-backlink u-clearfix u-grey-80\">\n\t\t\t<a class=\"u-link\" href=\"https://nicepage.com/website-templates\" target=\"_blank\">\n\t\t\t\t<span>Website Templates</span>\n\t\t\t</a>\n\t\t\t<p class=\"u-text\">\n\t\t\t\t<span>created with</span>\n\t\t\t</p>\n\t\t\t<a class=\"u-link\" href=\"\" target=\"_blank\">\n\t\t\t\t<span>Website Builder Software</span>\n\t\t\t</a>. \n\t\t</section>\n\t</body>\n</html>\n"

# Create HTML page
if os.path.exists("leetcode.html"):
    os.remove("leetcode.html")

htmlPage = open("leetcode.html", "x")
htmlPage.write(topTemplate)
htmlPage.write(counterTemplate)

# Write problem portions
templateColor = True # true = dark, false = light
for problem in problems:
    if templateColor:
        # Dark template (odds)
        templateDark = f"\t<!-- Section 1 (Dark) -->\n\t\t<section class=\"u-clearfix u-grey-80 u-section-3\" id=\"sec-1475\">\n\t\t\t<div class=\"u-clearfix u-sheet u-sheet-1\">\n\t\t\t\t<div class=\"u-clearfix u-expanded-width u-layout-wrap u-layout-wrap-1\">\n\t\t\t\t\t<div class=\"u-layout\">\n\t\t\t\t\t\t<div class=\"u-layout-row\">\n\t\t\t\t\t\t\t<div class=\"u-container-style u-layout-cell u-size-40 u-layout-cell-1\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-container-layout-1\">\n\t\t\t\t\t\t\t\t\t<h2 class=\"u-text u-text-default u-text-1\"> {problem.number}. {problem.name} (<span class=\"u-text-palette-4-base\">{problem.difficulty}</span>)\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-container-style u-layout-cell u-size-10 u-layout-cell-2\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-container-layout-2\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"u-align-center u-text u-text-default u-text-2\">{problem.time} ms</h4>\n\t\t\t\t\t\t\t\t\t<div class=\"u-clearfix u-custom-html u-custom-html-1\">\n\t\t\t\t\t\t\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t\t\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<div class=\"progress\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{problem.timePercentile}%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only\">100% Complete</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-align-center u-container-style u-layout-cell u-size-10 u-layout-cell-3\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-container-layout-3\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"u-text u-text-default u-text-3\">{problem.memory} MB</h4>\n\t\t\t\t\t\t\t\t\t<div class=\"u-clearfix u-custom-html u-custom-html-2\">\n\t\t\t\t\t\t\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t\t\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<div class=\"progress\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{problem.memoryPercentile}%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only\">100% Complete</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"u-clearfix u-custom-html u-expanded-width u-custom-html-3\">\n\t\t\t\t\t{problem.embedLink}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n"
        htmlPage.write(templateDark)
    else:
        # Light template (evens)
        templateLight = f"\t<!-- Section 2 (Light) -->\n\t\t<section class=\"u-clearfix u-grey-70 u-section-4\" id=\"carousel_ace0\">\n\t\t\t<div class=\"u-clearfix u-sheet u-sheet-1\">\n\t\t\t\t<div class=\"u-clearfix u-expanded-width u-layout-wrap u-layout-wrap-1\">\n\t\t\t\t\t<div class=\"u-layout\">\n\t\t\t\t\t\t<div class=\"u-layout-row\">\n\t\t\t\t\t\t\t<div class=\"u-container-style u-layout-cell u-size-40 u-layout-cell-1\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-valign-top u-container-layout-1\">\n\t\t\t\t\t\t\t\t\t<h2 class=\"u-text u-text-default u-text-1\"> {problem.number}. {problem.name} (<span class=\"u-text-palette-3-base\">{problem.difficulty}</span>)\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-container-style u-layout-cell u-size-10 u-layout-cell-2\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-container-layout-2\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"u-align-center u-text u-text-default u-text-2\">{problem.time} ms</h4>\n\t\t\t\t\t\t\t\t\t<div class=\"u-clearfix u-custom-html u-custom-html-1\">\n\t\t\t\t\t\t\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t\t\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<div class=\"progress\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{problem.timePercentile}%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only\">100% Complete</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"u-align-center u-container-style u-layout-cell u-size-10 u-layout-cell-3\">\n\t\t\t\t\t\t\t\t<div class=\"u-container-layout u-container-layout-3\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"u-text u-text-default u-text-3\">{problem.memory} MB</h4>\n\t\t\t\t\t\t\t\t\t<div class=\"u-clearfix u-custom-html u-custom-html-2\">\n\t\t\t\t\t\t\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t\t\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n\t\t\t\t\t\t\t\t\t\t<div class=\"progress\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"70\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{problem.memoryPercentile}%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only\">100% Complete</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"u-clearfix u-custom-html u-expanded-width u-custom-html-3\">\n\t\t\t\t\t{problem.embedLink}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n"
        htmlPage.write(templateLight)

    # Switch color for next section
    templateColor = not templateColor


htmlPage.write(bottomTemplate)
htmlPage.close()